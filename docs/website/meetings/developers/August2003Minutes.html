<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"><title>Summer 2003 uPortal Developers Meeting Minutes</title></head>

<body>
<!-- I used Netscape Composer to edit this, and it made corned-beef
  hash out of the INTERNAL paragraph formatting and so on. But such
  editors often do. Sorry about that. -->
<table cellpadding="2" cellspacing="2" border="0" style="text-align: left; width: 600px;">
  <tbody>
    <tr>
      <td style="vertical-align: top; width: 20px;"><br>
      </td>
      <td style="vertical-align: top;">
      <h2>uPortal developers meeting Cornell University</h2>
      <h2>August 7-8, 2003 [a Thursday and Friday]</h2>
      <h4>Attendees</h4>
Dan Ellentuck -- <a href="http://www.columbia.edu/">Columbia U</a>.<br>
Alex Vigdor -- Columbia U.<br>
Stephen Barrett -- <a href="http://www.cornell.edu/">Cornell U</a>.<br>
John Fereira -- Cornell U.<br>
Aaron Hamid -- Cornell U.<br>
Dave Koehler -- Cornell U. -- Thursday morning only<br>
Rich Marisa -- Cornell U. -- Friday afternoon only<br>
Michael Oltz -- Cornell U.<br>
Peter Kharchenko -- <a href="http://www.unicon.net/">IBS/Unicon</a><br>
Ken Weiner -- IBS/Unicon<br>
Kevin Gary -- Unicon/IBS, architect of <a href="http://www.unicon.net/academus/index.html">Academus</a><br>
Jon Allen -- <a href="http://www.immagic.com/">Instructional Media and
Magic</a> (IM&amp;M)<br>
Justin Tilton -- IM&amp;M<br>
Jim Farmer -- <a href="http://www.ja-sig.org/">JA-Sig</a>/IM&amp;M
(project 'clerk' or 'administrator')<br>
Shoji Kajita-- <a href="http://www.nagoya-u.ac.jp/english/">Nagoya University</a>,
Associate Professor; and CEO of his own company which is the main distributor of
<a href="http://www.webct.com/">WebCT</a> in Japan.<br>
Mark Boyd -- <a href="http://www.sct.com/">SCT</a><br>
Jan Nielsen -- SCT<br>
Mike Zackrison-- SCT<br>
Chuck Severance -- <a href="http://www.umich.edu/">U Michigan</a> -- Friday only
      <p>These notes were taken and edited by Michael Oltz
(mdo1@cornell.edu) and corrected with input from the presenters and
other attendees. Most of the links for companies, organizations, and standards are
provided only once, usually at the first appearance of the name. A few are provided
multiple times. If no link is given where you notice a word, go to the beginning
of the document and search for it.<br>
      </p>
      <p>Decisions and action items are indicated by non-link <u>underlines</u>.<br>
      </p>
      <p><br>
      </p>
      <p style="font-style: italic;">Thursday August 7</p>
      <p><b><br>
Ken -- introductions, agenda changes</b><br>
The goal of this meeting is to nail down the completion of 2.2 -- 
one conversation will be how to complete what we are working on,
another to discuss future features.<br>
      </p>
      <p><br>
      </p>
      <p> </p>
      <p><b>JA-Sig board perspective, by Dave Koehler</b> -- he is director
of Business Information Systems at Cornell, and is on JA-Sig Steering
Committee (often called the "JA-Sig board")<br>
      </p>
      <p><a href="http://www.ja-sig.org/">JA-Sig</a> started in 1999
[java In Administration] to cooperate developing academic
administration software in Java. Mostly to learn from each other, and
reuse code. <br>
      </p>
      <p>The JA-Sig Clearinghouse is to exchange miscellaneous free
code and other things. The board intends to increase promotion and use of
Clearinghouse. (a) Share more than just code, e.g. channels (b) get at it
through uPortal. <br>
      </p>
      <p>At the first JA-Sig meeting, it was asked, what should JA-Sig
collaborate on? All the schools were looking at portals. So that's what they decided.
After that started, a number of 'lurker' schools said, let the
rest of the world use it too, not just for the schools that write it.
JA-Sig went to <a href="http://www.mellon.org/">Mellon Foundation</a>
for money to support broadening what kinds of
schools could make use of it. They required that uPortal be open source.<br>
      </p>
      <p>The implementation schools are learning a lot from the
project. Bernie Gleason (of <a href="http://www.bc.edu/">Boston College</a>)
said that the total effort had a value of $3 million,
but the results are given away free. Java and portals are not the only
things that need coordination; so now JA-Sig has the reputation of not just
talking but doing something. Colleges are asking JA-Sig to give guidance re
other open source ideas, what to use, how to connect it together, choosing
standards. <br>
      </p>
      <p>For example JA-Sig is trying to help start up an
effort of
open source financials [in conjuction with National Association of
College and University Business Officers <a href="http://www.nacubo.org/">NACUBO</a>]
including a vendor and several colleges; Mellon Foundation is not as interested in funding
this one.<br>
      </p>
      <p>Dave mentioned 2 articles in
<a href="http://www.chronicle.com/">Chronicle of Higher Education</a>
August 1, 2003 about open source in general, and about effects on higher
education of <a href="http://www.oracle.com/">Oracle's</a> takeover of
<a href="http://www.peoplesoft.com/">PeopleSoft</a>.<br>
      </p>
      <p>He also mentioned a book
"<a href="http://catb.org/%7Eesr/writings/cathedral-bazaar/">The
Cathedral and the Bazaar</a>" -- how open source model works
and why it works. [<i>The Cathedral and the Bazaar: Musings on Linux and Open
Source by an Accidental Revolutionary</i> revised edition, by Eric S.
Raymond, O'Reilly, 2001]<br>
      </p>
      <p>The first production site: <a href="http://www.ubc.ca/">University
of British Columbia</a> (hereinafter "UBC") went live with uPortal in
September, 2000. 30,000 students. Live only with freshmen at first.<br>
      </p>
      <p>Mellon funding is running out. Unicon has offered to continue
to support Ken and Peter at least through the end of 2003.<br>
      </p>
      <p>Some colleges are comparing raw uPortal with 
<a href="http://www.people.cornell.edu/pages/mdo1/http//www.sct.com/Education/Products/Luminis/index.html">Luminis</a>
(formerly called Campus Pipeline), which to go with. JA-Sig is pleased that companies are
embedding uPortal.<br>
      </p>
      <p>[next JA-Sig conference is in Miami Beach this winter]<br>
      </p>
      <p>Jim question: Dave, what do you consider to be the impact of
the Oracle/PeopleSoft merger?</p>
<p>Dave: If we don't bury our heads in the sand, the way we
have chosen is not necessarily the way that will sustain value. Yale
Princeton Columbia etc. will be in existence 50 to 100 years from now 
to support our environment, corporations may not or may be doing different 
kinds of things.
Our handshake to others is an open hand, palm up -- we want it for
free. Our cycle is the gestation period of an elephant, it takes a long 
time to decide what to do. Colleges tend to heavily customize canned 
products and that means we have to support it ourselves. In the long run,
the Oracle/PeopleSoft will at least be a wakeup call to consider strategy.
Nothing against the two companies as products, but what about total cost
and fit to the problem. Dave's original take was it was a brilliant
marketing ploy for Oracle, not that Oracle really
wanted it. Now it has evolved into a conflict between the CEO's.
They're presently waiting for the anti-trust ruling. But even if they do 
merge they would still be number 2 to <a href="http://www.sap.com/">SAP</a>.</p>

<p>Carl Jacobsen (at <a href="http://www.udel.edu/">University
of Delaware</a>, on JA-Sig Steering Committee) attended NACUBO
conference.<br>
      </p>
      <p>Ken: What is the board's take on the portlet
(<a href="http://www.jcp.org/en/jsr/detail?id=168">JSR-168</a>) spec.
Does the board expect uPortal to be compliant?<br>
Dave: I'm not the technical member of the board. We have not
had a specific conversation about it. If you want board approval or
consideration, write a one-page executive overview. <br>
      </p>
      <p>Ken: Will it be a problem if a lot of portlet-compliant
containers come out and uPortal is not one of them?<br>
      </p>
      <p>Dave: We want open-standards, generally accepted things.<br>
      </p>
      <p>Jim: there is
<a href="http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=wsrp">WSRP</a>,
Portlet, and
<a href="http://jakarta.apache.org/jetspeed/site/index.html">Jetspeed's</a>
Velocity. Will a Sun Java portlet spec emerge as a strong business force? Dave, what is
JA-Sig board's relation to <a href="http://www.sun.com/">Sun</a>?<br>
      </p>
<p>Dave: I don't think I can answer Ken's question. The
developers have made good decisions in the past. Ken, <u>please keep
telling us what technical issues we should consider important and evaluate</u>.
      </p>
      <p>Sun has been our benevolent benefactor so far. We
are more interested in their architects/luminaries than in marketing 
types. They have contributed something toward conferences. Sun can
communicate with this kind of market without JA-sig, but
not as well. Sun was concerned about the percentage of sites running on
Sun boxes, but the issue is behind us.<br>
      </p>
      <p>Sun is not as eager to support the Clearinghouse
as the other things. Dave thinks we have an influence on what Sun
does.<br>
      </p>
      <p>Ken: What about Jim Farmer's role? What will happen when the
funding runs out?<br>
      </p>
      <p>Dave: I don't know exactly how much is left in the pot. Jim
is careful about spending. What Jim does is 'virtual glue' to other
organizations. They are looking for some other source to continue this.<br>
      </p>
      <p>By the way, Columbia is trying to get a Mellon
grant for CUCMS (Columbia University Content Management Suite,
information and download available from the JA-Sig Clearinghouse).<br>
      </p>
<p>Alex: That grant application is currently sort of in limbo.<br>
</p>
<p>Dave: Mellon (especially Ira Fuchs) is more
interested in funding matching-fund grants now. The
in-kind contribution of developers is not as important an influence on
them now as it was.<br>
      </p>
      <p>Ken: is it that we don't want funding from them or that we
can't?<br>
      </p>
      <p>Dave: We would like to get the money but the bar is now
higher. They won't give money for 'evangelism' they want development to
happen from the money and they want to see a plan for after-grant
continuation of the results.</p>
      <p>Jim: One bad thing is, if Mellon hadn't
been so positive to begin with, the board might have
taken another direction back then and there would not be quite this
problem.<br>
      </p>
      <p>Kevin: What is the board's metric of success re uPortal?<br>
Dave: a) It's a great product in and of itself.<br>
b) Continued exploration of the context of delivering
products and services to the community. E.g. the content management
project.
SCT's learning management system. Connection to other standards groups
and so on. A lot of serendipitous discovery is happening. <br>
      </p>
      <p>JA-Sig is now kind of an aggregating group for higher ed.<br>
      </p>
      <p><a href="http://www.hekate.org/">HEKATE</a> is a new higher education
organization whose focus is on web services and on using the web to facilitate
education.<br>
      </p>
      <p>So far you developers and uPortal in general have 'bet on the
right horses'.<br>
      </p>
      <p>Jim: There will be questions based on the open
source article. Jim summarizing what Dave said:<br>
1) Uportal -- JA-Sig board expects project to
continue more or less in the same form.<br>
2) Board now strongly supports open standards.<br>
3) Board has a broad application interest.<br>
4) Board satisfied with architectural decisions.<br>
5) Clearinghouse is important as a service to the
community.<br>
      </p>
      <p>Common Solutions Group has not actually come out
with any specific solutions.<br>
UPortal has. Dave congratulates the uPortal
development group; the product continues to "wow".<br>
      </p>
      <p>Jim: What about corporate interest?<br>
Dave: We don't want uPortal to fork into a corporate vs. a
higher ed version. We don't want to lose control. We're wary. Companies
expect high-class service.<br>
Potential problems: (a) if corporations invest bunches of
money, the H.E. community won't get as much attention.<br>
(b) what if corporations hook in vertical-market standards or
proprietary things, and we can't get the code?
E.g. ".NET" ??? That's how the forking would happen. "They're bigger
elephants than we're used to."<br>
      </p>
      <p> </p>
      <p></p>
      <p></p>
      <p></p>
      <p>Second session<br>
      </p>
      <p>Jim: Transitional comments: The reason for all the
questions at the end of Dave's talk was, we wanted you to have
authoritative answers;
"When Dave talked to us, this is what he said" a) What is happening
to the uPortal project? b) why are they doing other things?<br>
      </p>
      <p>Jim on CHEF: What is the "there" there? The CHEF
project plans to implement their own 13 services there, which is more
academically relevant than raw OKI. This will not be incorporated in
the framework but will be available to uPortal community. [CHEF is software
for group collaboration developed at U Michigan. Presentation on it on
Friday, see later]<br>
      </p>
      <p><br>
      </p>
      <p></p>
      <h4>Ken on Portlets (JSR-168) and WSRP [the second session]<br>
      </h4>
      <p>[JSR-168 is a specification from the Java Community Process:<br>
<a href="http://www.jcp.org/en/jsr/detail?id=168">http://www.jcp.org/en/jsr/detail?id=168</a><br>
for an API for how to do what JA-Sig calls a "channel". WSRP is a spec
from Oasis:<br><a href="http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=wsrp" eudora="autourl">http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=wsrp</a><br>
it defines how a client can aggregate application data from a remote
server via web services. It would replace or parallel Ken's "remote
channels" feature.] </p>
      <p></p> 
      <p>a) If we took the spec seriously, could we do it in uPortal 3.0?<br>
      b) Would we have to cut features?<br>
      </p>
      <p>Jan Nielsen thinks there's a great advantage, "we can't
not do it". All the other horses will overtake you if you don't do it.
And we will be abandoned. SCT <i>really</i>
wants this. He's not so comfortable with WSRP, not as much confidence.
Jan expects the Java development community to run with JSR-168 "like a wild
pack of dogs". [because it is from the Java community per se.]<br>
      </p>
      <p>Ken: WSRP is an enabler -- it allows things to communicate
with each other once they have been written. [it is for remote channels]
JSR-168 is a container specification really. Do we write a wrapper for 168 on
top of uPortal? Or rewrite uPortal to 168 and make a wrapper for IChannel?
Rewriting uPortal would take about a year. <br>
      </p>
      <p>Kevin: Also get involved in the standards process for 168
version 2.0.<br>
Peter: A technical detail, the spec says that portlets must
be loaded with the same class loader as the framework. This is problematic for
our implementation of CAR files (channel archive files, like a jar).<br>
      </p>
      <p>Aaron: Did you say features would be cut?<br>
Ken: Some of the features we've done may not make sense in 168.<br>
      </p>
      <p>Steve: What do people think is the timeframe of adoption and rollout?<br>
Ken: As a first step write WSRP and try to write an adapter.<br>
      </p>
      <p>SCT says the industry will adopt JSR-168 rapidly.<br>
Steve: We need an analysis of how much it needs to be altered to do it.<br>
Ken: Gut feeling -- a lot.<br>
Mark: -- It will be easier to rewrite uPortal as a portlet
container than to write an adapter.<br>
      </p>
      <p>Ken: Adopting another JSR-168 portal framework in place of 
uPortal is technically one of our options.<br>
      <br>
Alex: What we're better at is value-added stuff, e.g. groups and permissions.<br>
      </p>
      <p>Jan: It would take 4 people for 6 months [a deliberately casual estimate]<br>
      </p>
      <p>Peter: The rendering is not going to be so difficult, it's
the authentication, handling users, etc. <br>
Ken: I am not so concerned about those issues. We already
have mechanisms, just make the 168 API call that. I agree with their estimates.
I compare it with what we did in going to 2.0 rewriting the internals. But it
will be easier to assign work this time around. And there are compatibility
tests available for 168. The difficult part will be morphing legacy code. Two
person years. (4 people for 6 months).<br>
      </p>
      <p>Ken: If we don't implement JSR-168, we'd be making a one-off 
portal that isn't standards compliant. </p>
      <p>Jan: Maybe JA-Sig should concentrate on integration rather
than the framework.<br>
      </p>
      <p>Jim: In terms of adoption, <a href="http://www.plumtree.com/">Plumtree</a>
is first, <a href="http://www.vignette.com/">Vignette</a> is
second, and uPortal is third largest enterprise portal in USA.<br>
      </p>
      <p>Steve: We should present several options to the board, and
the first option is to get involved in the spec.<br>
      </p>
      <p>Mike Z: I suggested a year ago we get connected to the 168
group. But at the time the uPortal group was focused on remote
channels/WSRP.<br>
      </p>
      <p>Jim: I recommended to the JA-Sig board some time ago that
they not get involved in standards, because it takes a half- or full-time
person and a lot of travel money. Costs about $150,000
a year. UPortal has an opportunity to be commodity
implementation because of so many sites.<br>
      </p>
      <p><u>Jim's suggestion: (a) Ken and I will write up pros and
cons of JSR-168, (b) go to developer list for comments, (c) go to our
commercial partners and ask how important it is, (d) present the
document to the JA-Sig board.</u> He thinks that 
<a href="http://www.gartner.com/">Gartner</a> and their competitors are
hesitant to make a call about 168.<br>
      </p>
      <p>Jim: SAP is now selling their product with 
<a href="http://www.mysql.com/">MySQL</a> db instead of Oracle.
Oracle is losing market share.<br>
      </p>
      <p>Dan: In reference to Ken's motivation. I think uPortal got
the extent of adoption that it did because it was trying to be a creditable
implementation for higher education, not by trying to compete with anyone. I
don't think we should see ourselves as competitors to IBM and Sun.<br>
      </p>
      <p>Mark Boyd: I hear such comparisons often because uPortal is
being used so much. The competition is in the eye of the beholder. <br>
      </p>
      <p>Kevin: I think uPortal's main competitor is Jetspeed. I
think uPortal won by being advanced re XML, and by being by and for
academia.<br>
      </p>
      <p>Steve: Doing things the higher ed way, other vendors have to
be torqued in. <br>
      </p>
      <p>Mike Z: Within a year, anybody's shopping list for portals
will have a checkmark for 168 compliance.<br>
Kevin: The market will become 'buy a portal
container', and 'buy portlets'.<br>
      </p>
      <p>Jim: Apache is really good about getting their products out.
Except for Jetspeed. <br>
      </p>
      <p>Jim: If we do my suggestion, I don't think the board will
discuss the technical aspects of it.<br>
      </p>
      <p>"Do we use the word 'portlet'?"<br>
      </p>
      <p>Ken: If we incrementally implement JSR-168, gradually, we
would have hybrid channels and people would start calling them portlets. Ken does
not want to go down that road.<br>
      </p>
      <p>Jan: We need to find out whether Jetspeed will do 168 and
how soon. <br>
      </p>
      <p>Mark: Join efforts with Jetspeed????<br>
      </p>
      <p>Jim: Indiana is the only university that strongly supported
Jetspeed. Michigan followed them. Now Michigan wants to go to uPortal.
Possibly Indiana as well. I will continue to
say "channel".<br>
      </p>
      <p>Ken: Until we get feedback from the board, steady as we go
on development, don't start this yet.<br>
      </p>
      <p>Peter: Our options will be limited by what resources are
available. Could we get more programmers?<br>
      </p>
      <p>Jim: Two options (a) business partners may contribute time,
(b) go to Mellon's competitors.<br>
      </p>
      <br>
      <p><i>Update on WSRP</i> (Ken)<br>
      </p>
      <p>Ken: talked to people on WSRP team at
<a href="http://servlet.java.sun.com/javaone/">Java One</a>. Ken used
<a href="http://ws.apache.org/axis/">Axis</a> instead of Java XML reference implementation. He was able to
generate from the <a href="http://www.w3.org/TR/wsdl">WSDL</a> (analogous to IDL for RPC). Now he has to 
write the client and the
server part. He got started with it, got pulled away by other things,
but he will resume this month (August). At first he thought just write a
consumer, but now he thinks will also write a
producer. It might not be perfectly compliant for 2.2 but it will
basically work, and we can clean it up for the dot release. The way you use it
will be just like remote channels. WSRP completely ignores user authentication. 
What we can do is if the channel uses
CacheCredentials we can send the credentials along; this wouldn't
necessarily be secure, but it's an option. </p>
      <p>Steve: We (Cornell) are using authentication in the http
header, so that takes it out of the standard for now, until the
standard addresses the issue.<br>
      </p>
      <p>Ken: I don't know how we will do this for sites in general.<br>
      </p>
      <p>Jim: When would a channel developer use WSRP?<br>
      </p>
      <p>Ken: A developer wouldn't use it, the choice is up to the
site admin: "where am I going to get my content from?" <br>
      </p>
      <p>Ken: Apache has a project Charon, which is based on code
written at IBM Boeblingen. an WSRP compliance project.<br>
      </p>
      <p>Ken: One thing where WSRP is useful is you can load balance,
move the cycles to another server. Or, share the information through a
variety of servers. <br>
      </p>
      <br>
      <p><br>
      </p>
      <p><i>Thursday afternoon session</i><br>
      </p>
      <h4><b>CARs -- Mark Boyd</b></h4>
      <p></p>
      <p>A CAR is a way to distribute a uPortal channel in a single file, similar to a JAR.
All the class files, media, stylesheets, and other resources are put into the file,
and it is loaded from uPortal.</p>
      <p><u>Mark will evaluate rewriting in order to take the Portlet
(JSR-168) spec (the requirement about class loaders) into consideration.</u><br>
      </p>
      <p>JSR168 indicates that all portlets should be loaded with the
web container's class loader. Therefore he will see if the classpath
can be modified to find jars in the cars directory to help segregate
channel archives from third party libraries. Their names would also
have to be changed from ".car" to ".jar" if we use the container's
class loader. This would not permit dropping in new CARs without
restarting the server. You have to restart the container to see new
jars. He will evaluate gonig back to using the container's class
loader. With this in mind new CARs would not be recognized until the
container was stopped and restarted eliminating new feature item 4
below. This approach would also eliminate use of third party libraries
included within a CAR. On the positive side item 2 would be supported
automatically.<br>
      <br>
      </p>
      <p>New features<br>
      </p>
      <p>1)* Documentation</p>
      <p>2)* Services and channel types deployable from CAR</p>
      <p>3)* Support of more browser accessible file types</p>
      <p>4) Automatic recognition of new* or updated CARs [see sentences above]</p>
      <p>5) Replacement of CarResourceWorker [this would still be feasible with jars,
referring to e.g. loading images]</p>
      <p>6) Semi-automatic and automatic publication.</p>
      <p>7) Third party library content.</p>
      <p>* Available in 2.2</p>
      <p><br>
A separate class loader was used to provide class loading from a
different directory beyond those defined by the servlet spec for
webapps and to allow class containers to have the file extension of
".car". </p>
Also related is the use of browser accessible content distributed as
part of the channel in a CAR. Images can be served out of the CAR by
use of the CarResourceWorker. This will be revisited to see how much of
a performance gain can be had if such resources were extracted from the
CAR and placed into a web server area. However, such resources would
have to be identified in some way for the infrastructure to be able to
pull them out. We have discussed various ways of doing this via either
defining an internal structure on the CARs akin to that of the
servlet's spec or by specifying files via a deployment descriptor. If
the CarClassLoader goes away then an internal structure approach could
not be used. Item 3 would then be solely dependent on the web server.
      <p>A problem: What if the name of categories and groups in a
deployment descriptor does not match what's on the target
portal instance? He will be looking at ways to allow the
admins to resolve this issue including possibly allowing for partially
published channels that could be viewed in the current channel manager
and category and groups values could then be selected to finalize the
publishing.</p>
      <p></p>
      <p>Kevin: You could have a repository of CAR files somewhere
and just point at that, not have to put on the specific server.<br>
      </p>
      <p>Mark: SCT uses CARs as their standard way of packaging
channels. Since action to implement JSR168 support is pending
directions from the jasig board we will keep the status quo for now but
investigate those items not affected directly like semi/autopublishing
and deployment descriptor defined web-visible files extraction.<br>
      </p>
      <p><br>
      </p>
      <p><br>
      </p>
      <p>Ken: <u>If we are going to make October we should wrap up
checkins by mid-September.</u><br>
      </p>
      <p></p>
      <p></p>
      <p></p>
      <p></p>
      <p><b><br>
      </b></p>
      <p><b><br>
      </b></p>
      <h4><b>Groups and Permissions -- Dan Ellentuck</b></h4>
      <p></p>
      <p>Additions for 2.2<br>
      </p>
      <p>Groups:<br>
      </p>
      <p></p>
      <p style="margin-left: 0.5in;">New filesystem group service
org.jasig.portal.groups.filesystem<br>
Look at this file in the MAIN branch:<br>
website/implementors/services/filesystemGroupService_tutorial.html<br>
leaves are files which contain lists of
principals or refer to other groups. The benefit to Dan is that it is so easy
to use this model, a good introduction for novices to how groups work. After
the file has been read in, the timestamp is checked to notice if it has
changed. And it's good as a debugging tool.<br>
      </p>
      <p style="margin-left: 0.5in;">Mark: How might a Group Manager be
improved to be able to handle such a need?<br>
      </p>
      <p style="margin-left: 0.5in;">Steve: I have a channel that lets
authorized people to download lists of users, edit it, and upload it
again.<br>
      </p>
      <p style="margin-left: 0.5in;">Alex: We are thinking of using
CuCMS (Columbia University Content Management System) to manage the files.<br>
      </p>
      <p></p>
      <p>Authorization:<br>
      </p>
      <p style="margin-left: 0.5in;">Some Columbia departments had their own sources of permission information and <br>
      wanted to be able to connect it directly to the portal. Dan decided that the<br>
      information requested to be imported was proprietary and all they would be doing <br>
      is rewriting various rule engines. Instead, you would ask the remote server, does<br>
      the user have this permission? And it would just say yes or no, possibly with an<br>
      expiration time.<br>
      </p>
      <p></p>
      <p style="margin-left: 0.5in;">Model a Permission Request and Permission Response<br>
      </p>
      <p style="margin-left: 1in;">Request captures a question about an Owner, Principal, Activity and Target.<br>
      Response captures the answer at a specific point in time. May be cached, <br>
      e.g. for certain Sources or Principals.
      </p>
      <p style="margin-left: 0.5in;">Authorization Source
      </p>
      <p style="margin-left: 1in;"> Implements simple request-response protocol<br>
      Lets portal use already-existing authorization service as a client<br>
      Each will have a factory and you define it in an XML file.
      </p>
      <p></p>
      <p style="margin-left: 0.5in;">
Portal Authorization Service has a Configuration with multiple Sources and a default
combining Policy. This will have a factory and you define it in an XML
file (this will be an enhancement of the existing authorization
service).
      </p>
      <p>[Somebody spell this correctly: NYSO? NISO? in reference to
a role information format. There is a "NISO" having to do with
libraries, but I couldn't find the 'role' standard there.]<br>
      </p>
      <p>Jim: Examples -- library systems have a mechanism to find
out roles (it happens to use <a href="http://www.w3.org/2000/xp/Group/">SOAP</a>).<br>
      </p>
      <p>Steve: The concept of authorization 'policy' is just
beginning to be understood, a 'yes/no' answer is not sufficient.<br>
      </p>
      <p>Jim: When you get a channel that can depend on permissions
more than "yes/no" -- well, roles are actually Group memberships.<br>
      </p>
      <br>
      <p>Current uPortal Permission model<br>
      </p>
      <p>A Principal performs an Activity on a Target within the
context provided by an Owner. Only the principal is multi-valued
(multiple parts of each value) and gives a link into the groups system.<br>
      </p>
      <p>Could Activities and Targets also be groups? So you could
assign permissions en masse? The reason
to do this is to reduce the work for the administrator. <br>
      </p>
      <p>Aaron: Instead of making the uPortal authorization more
powerful, why not put an API over it so it can be ripped out later and
replaced? In which case, you would pass in an Object and get back an
Object.<br>
      </p>
      <p>Motivations: (a) Requests came in over the last year for a
native way to represent complex roles. (b) Dan read the OKI materials
and saw their use of "types". <br>
      </p>
      <p>Dan is suggesting this as a future idea. "It feels like
there's very little support for it here."<br>
Jim: Not necessarily.<br>
      </p>
      <p>Jim: As an aside www.osafoundation.org [common solutions
group + Mellon giving Mitch Kapor money
to make PIMs for higher ed]<br>
      </p>
      <br>
      <p><i>OASIS</i></p>
      <p>Extensible Access Control Markup Language ("XACML")<br>
A subject performs an action on a resource.
This is captured by a target.<br>
The logical unit of authorization is the Rule.
Rules are aggregated into policies and
policysets.<br>
      </p>
      <p>java implementations:<br>
      </p>
      <p><a href="http://sunxacml.sourceforge.net/">http://sunxacml.sourceforge.net</a><br>
<a href="http://www.jiffysoftware.com/">http://www.jiffysoftware.com</a><br>
      </p>
      <p>Documentation:<br>
<a href="http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=xacml">http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=xacml</a><br>
      </p>
      <p></p>
      <p>System roles:<br>
      </p>
      <p>Policy administration point -- auth engine<br>
Policy decision point -- rules engine<br>
Policy enforcement point -- auth client<br>
Policy information point -- auth store<br>
      </p>
      <br>
      <p><i>OKI</i><br>
      </p>
      <p>OKI <a href="http://web.mit.edu/oki/specs/">Open Service Interface Definition</a> ("OSID") for Authorization:<br>
      </p>
      <p>An Agent performs a Function within a Qualifier. This is
captured by an Authorization.<br>
Agent may be individual or group<br>
Qualifier is context and may be nested<br>
the Agent Function and Qualifier each contain a
Type, a nested category meant to model an organization.<br>
AuthorizationManager reads and writes Authorizations and
answers authorization requests for a given Agent, Function
and Qualifier.<br>
      </p>
      <p></p>
      <p>One way to work with OKI is to write an external OKI
adapter, and interface to the Authorization Service. Or, we could wrap
the current AuthorizationService with OKI and therefore make it
bidirectional.<br>
      </p>
      <p>Jim:<br>
1) Some people are skeptical because there's not much 'there' there.<br>
2) Mellon doesn't know what to do regarding OKI. However,
many parties are saying that said parties plan to rush to do it.<br>
3) Michigan plans to implement OKI by October.<br>
      </p>
      <p></p>
      <p>Kevin: Why are they reinventing the wheel, when are they
going to actually do something, and it doesn't seem to be very
e-learning oriented.<br>
      </p>
      <p>Peter: it seems that MIT had some problems they wanted to
solve on their own and wanted to do it in a general way.<br>
      </p>
      <p>Kevin: Why is CHEF [see session below] talking to OKI?<br>
      </p>
      <p>Jim: Mellon funded OKI, and Mellon is funding Michigan
[their model is collaborative] Stanford's model is assessment. Mellon
funded U Washington to do <a href="http://www.pubcookie.org/">PubCookie</a>
but everybody else is using Yale's <a href="http://www.yale.edu/tp/auth/">Central Authentication Service</a> (CAS).
He feels XACML seems to have the least momentum
behind it of all the role representations. SAP has released all its interfaces,
and PeopleSoft is coming along, so these don't seem to be such a big deal.
[side note: Aggregated layouts relies
heavily on groups and permissions and is not very fast]<br>
      </p>
      <p>Jim: It seems that the external authorization need is more
of a channel concern rather than a framework concern. the local groups
and permissions model was written more for the <br>
framework. <br>
      <br>
      </p>
      <br>
      <br>
      <h4><b>Internationalization: 2 vs 3 letter codes, Ken</b><br>
      </h4>
      <p>How does the locale get represented? the default 2 letter
codes or 3 letter? 2 letters leave out many countries and languages. is
there a way to use the existing object and squeeze 3 letters in it?<br>
      </p>
      <p>Ken: make a custom one that can return a java.util.Locale
object on request. <br>
      </p>
      <p>Jan: maybe we can use the variant field of the default
Locale object to hold the 3-letter part. This is better because we can
use the object with standard resource bundles.<br> 
Ken: but we can still do it with our custom class by letting
it return a default Locale object whenever we need it. if we use
3-letter as a variant, what would we pick as the 2-letter base code? <br>
      </p>
      <p>Jan: The variant is a vendor-specific field. so we can
choose whatever we like for the 2-letter code?<br>
      </p>
      <p><u>Jim: Let's write a letter to the Java
community to recommend that they use
3-letter standards because libraries started to use
it. Also write to WSRP and JSR-168. Also
to the U.S. government
<a href="http://www.whitehouse.gov/omb/">Office of Management and Budget</a> (OMB)
to recommend that federal procurement
require this. Drop the 3-letter requirement for uPortal for now and
wait for the responses. jim writes, vetted by developers, vetted by the board,
go out.</u><br>
      </p>
      <p></p>
      <p></p>
      <u>The group agreed to
move forward with 2 letter code support for uPortal 2.2. This
allows us to use the standard java.util.Locale object throughout
uPortal.</u><br>
      <br>
      <br>
      
      <h4><b>XLIFF: (by Justin)</b><br>
      </h4>
      <p>[a sort of IDL for making files in N languages] you make a
skeleton, then translate the text into other languages. Originally
Justin and Peter were using the original English string as the translation unit
identifier but that will not work in
<a href="http://www.oasis-open.org/committees/xliff/documents/xliff-specification.htm">XLIFF 1.1</a>
where it has to be a single token.
Peter is writing a Swing tool that makes skeletons and allows you to fill them
in.<br>
      </p>
      <p>Peter says the editor won't be ready for 2.2 but suggests
that there is some preparatory work that might fit. Make a helper class
that reads the list of locales then read [couldn't type fast enough]<br>
      </p>
      <p>There was some discussion of implementation details of this
idea.<br>
      </p>
      <p></p>
      <p></p>
      <p></p>
      <p><br>
      </p>
      <p><br>
      <i>Friday, August 08, 2003</i><br>
      </p>
      <p><b><br>
      </b></p>
      <h4><b>uPortal and CHEF by Chuck Severance</b></h4>
      <p></p>
      <p>The <a href="http://chefproject.org/">Comprehensive collaborativE Framework</a> (CHEF) initiative is
a Jetspeed-based application development
framework from the University of Michigan. The CHEF project would like their tools to work both with
Jetspeed and with uPortal.<br>
"We're kind of a bad portal." -- The personalization is very limited.
We're very interested in building a lot of
tools. it doesn't LOOK like Jetspeed.<br>
Course Management System -- Course tools<br>
"Work Tools" -- Research collaboration system<br>
It's more like an aggregated layout rather than user personalizable.<br>
U Mich created "My UMich" based on Apple <a href="http://www.apple.com/webobjects/">WebObjects</a>.
But a new manager at U. Michigan decided not to continue that project due to financial
considerations.<br>
      </p>
      <p>The portal engine is Jetspeed/<a href="http://jakarta.apache.org/velocity/index.html">Velocity</a>/CHEF.
"Teamlets" are what they call the 'channels'.<br>
There are these things called "Services" -- various
API's to do various common things like DB connections.<br>
They have a concept like uPortal servants.<br>
      </p>
      <p>CHEF is more an application rather than a portal. They
emphasize the tools behind it rather than the framework.<br>
Jetspeed will be evolving based on WSRP and JSR-168.<br>
UMich wants to take advantage of various uportal thrusts:<br>
-- aggregated content<br>
-- XML at the core<br>
-- WSRP and JSR-168 implementations<br>
      </p>
      <p>Want to add these things to what JA-Sig is doing<br>
-- Notion of services<br>
-- Super-duper-channel<br>
-- CAR and then Super-CAR<br>
      </p>
      <p>CHEF implemented their services before OKI appeared.<br>
OKI has a concept of 'API's' and 'Factories'; it's just interfaces.<br>
Chuck considers a service to be the actual implementation, rather than the API.<br>
      </p>
      <p>What is a Service?<br>
-- Long-term lifecycle<br>
-- One instance<br>
<span style="margin-left: 0.5in;">-- Must be aware that multiple users can use service<br>
-- Can use memory resident information<br></span>
-- Pluggable interfaces<br>
      </p>
      <p></p>
      <p>Each service has a 'cover' (a design pattern) for how to instantify it.<br>
UMich uses <a href="http://jakarta.apache.org/turbine/">Jakarta Turbine</a> to find and load services.<br>
      </p>
      <p>Super-CAR file (he wants something like this)<br>
Standardization for interchange of two types of packaged components<br>
-- User Interface package is one kind<br>
-- Service package which describes the broker for
getting at the service.<br>
      </p>
      <p>[Essentially he envisions the portal as being assembled from pluggable pieces.]<br> 
He wants there to be an "UI" layer so that a channel could go either to a portal or
run standalone.<br>
      </p>
      <p>CHEF 1.1 just released [July? 2003], there is still another year on the project.<br>
      </p>
      <p>Secret Plan for Total World Domination:<br>
-- uPortal and CHEF steal best practice from each other <br>
      </p>
      <p></p>
      <p>Ken: I don't think uPortal and CHEF are as similar as you mentioned<br>
Ken: Is Jetspeed really moving toward 168?<br>
Chuck: Those Jetspeed people have been doing something in
secret. it seems to be 168 related but they are not talking about it.<br>
      </p>
      <p>Jim: Regarding services, when and how with respect to OKI?<br>
Chuck: Someone was supposed to be working on OKI but they
were pulled off to work on 1.1 but from now on we will have 1.0 FTE.
it will probably take a year for their
one person to get an OKI reference implementation done.<br>
      </p>
      <p>Jim: What is the priority of the 13 CHEF services you have?
Would they be available to JA-Sig developers? How would you expect us
to use them?<br>
Chuck: They are done, and yes. For example the user
directory service, he explained how to do it -- it would require use of
Turbine.<br>
Aaron: This seems to look like Web Services?<br>
Chuck: No it looks like Turbine. Turbine is pretty much a
service broker. [Ken thought it had a lot more in it.]<br>
Aaron: Could you layer Turbine on a Web Service?<br>
Chuck: Absolutely.<br>
      </p>
      <p>Jan: You seem to want a broker for {brokers such as CORBA or
EJB's}. I (Jan) wouldn't find EJB's attractive in uPortal context.<br>
Chuck: a) "My first desire is to create a market of
people writing services."<br>
b) My second desire is to get uPortal to use our services.<br>
      </p>
      <p>Jan sees the lifecycle aspect of CHEF as key to the design
and most useful to others.<br>
"Chuck's OKI periodical table thing." A way to
find and connect to all the modules of a web thing.<br>
      </p>
      <p></p>
      <p>Dan: a) What do you expect to get out of other places using
your stuff?<br>
b) What do you get out of being an OKI implementer?<br>
      </p>
      <p>Chuck: (a) Our provost is willing to invest large-scale in
development at UMich only if we collaborate with others.<br>
(b) Michigan has received more than a million dollars in
grants related to its CHEF effort.</p>
      <p>If something doesn't have OKI it's going to be harder to sell.<br>
OKI is becoming a checkoff. (A question that people ask
before adopting something)<br>
      </p>
      <p>Jim: When will the point come that this can be used by for
example UPortfolio?<br>
Chuck: Right away.<br>
      </p>
      <p>Jim: Jeff Merriman at OKI said in Italy "Web Services are dead".<br>
Chuck: What he really means is Web Services
are not the only thing on this planet. But he has to say
it dramatically to get other people to think out of the box.<br>
      </p>
      <p>Chuck: The concept of a channel or a teamlet needs to be
broadened.<br>
      </p>
      <p>Ken: If Jetspeed is doing 168, do you think we should do the
same thing, or combine efforts?<br>
Chuck: Been thinking about that. Look at what the true value
of uPortal and CHEF is. The aggregated layout aspect, which I don't
think 168 handles well. Should uPortal be a competitor to Jetspeed? I (Chuck)
will not write another 168. I won't invest the year of my 8 or 9 programmers to
do 168.<br>
      </p>
      <p>Ken: If we didn't do 168, would you still adopt uPortal
anyway based on functionality?<br>
Chuck: If Jetspeed had 168 but no aggregated content, and
uportal had no 168 but it did have really cool aggregated layout, I
would pick uPortal. What I really want is 168, aggregated layout, and CHEF tools
working in it, with OKI. Should you merge? Well there are certain
predispositions in Jetspeed that may make that painful. But
if you jump into Jetspeed, don't lose the unique things that make
uPortal what it is.<br>
      </p>
      <p>[Later in the morning, Chuck Severance arranged a conference
call with one of his staff so we could ask questions.]<br>
      </p>
      <h4><b>Glenn Golden, chief architect of CHEF, one of the Jetspeed committers, on a
speakerphone</b><br>
      </h4>
      <p>"Jetspeed 2" project is probably JSR-168 related.<br> 
<a href="http://nagoya.apache.org/wiki/apachewiki.cgi?PlutoProposal">Project Pluto</a>
is a Jakarta project that will be the reference
implementation of JSR-168. Thomas Sheck(?)'s group [was chair of WSRP
committee] at IBM Germany Stuttgart(?) is writing it and contributing
it to Jakarta as soon as the voting process on JSR-168 is finished. It is a
portlet container, not the other aspects of Jakarta. [there seems to be an
email that leaked out]. Pluto would implement the API's and the lifecycles. <br>
      </p>
      <p>Chuck: uPortal group was thinking it would take 2 person
years to do JSR-168. Will Jetspeed be able to put that much into it?<br>
      </p>
      <p>Glenn: IBM has probably known for a year or more what 168
would look like. I think that the Pluto code will actually come out. I
think Jetspeed will go in this direction.<br>
      </p>
      <p>Chuck: Will Jetspeed's Velocity survive?<br>
      </p>
      <p>Glenn: I think so, it doesn't overlap what JSR-168 specifies.<br>
[end of call]<br>
      </p>
      <p></p>
      <p>Ken: Let's wait for Pluto and see if we can integrate it.<br>
      </p>
      <p>[search for 'plutoproposal' on google]
http://nagoya.apache.org/wiki/apachewiki.cgi?PlutoProposal<br>
      </p>
      <br>
      <h4><b>Internationalization, Shoji Kajita</b></h4>
      <p></p>
      <p>Here is an <a href="http://www.itc.nagoya-u.ac.jp/%7Ekajita/hiki/hiki.cgi?UportalI18n">information page</a>.</p>      <p>To-do list:<br>
1. User interface changes<br>
2. Database changes<br>
3. Resource translations<br>
4. Code changes<br>
5. Documentation<br>
6. what next <br>
      </p>
      <p>1. UI Changes<br>
to let users select the language to be rendered in
subscribing channels. Some of this will be in 2.2.<br>
      </p>
      <p>2. Database changes<br>
One additional column in UP_LAYOUT_STRUCT table
(LAYOUT)<br>
Eight new tables<br>
UP_CHANNEL_MDATA<br>
UP_CHAN_TYPE_MDATA<br>
UP_LAYOUT_STRUCT_MDATA<br>
UP_GROUP_MDATA *<br>
UP_PERSON_DIR_MDATA *<br>
UP_USER_LAYOUT_MDATA *<br>
UP_USER_PROFILE_MDATA *<br>
UP_USER_MDATA *<br>
*: added after meeting<br>
      </p>
      <p>3. Resource Translations<br>
It was pointed out that there need to be more changes to the database.<br>
Metadata is also needed for UP_USER_LAYOUT(?) and for the
UP_USER_PROFILE<br>
      </p>
      <p>4. LocaleManager class<br>
One instance of this class for each user<br>
There is a locale choice associated with:<br>
(SEE ALSO DISCUSSION BELOW)
</p><p style="margin-left: 0.5in;">
user profile<br>
user layout<br>
channel definition [provided by
developer, may be modified when published at a particular site]<br>
layout struct level [subscribe time]<br>
HTTP session parameter<br>
browser (i.e. ACCEPT_LANGUAGE)<br>
uPortal default locale from properties<br>
JVM default locale setting
      </p>
      <p>(if a given listed setting is
null, fall down the table to the next setting, etc.)<br>
      </p>
      <p><br>
should there be a separate class for GUEST user? Peter
pointed out that the logic would be different.<br>
      </p>
      <p>Ken: In properties, we specify all the
languages that could possibly be chosen for the
framework. But channels can specify they have other
languages, so you can add another language.
The user profile level will for the time being be
the same as the properties.</p>
      <p>At the user layout level there will be a Language
Preference channel, to specify preferred languages in order, from the
list provided in the properties.<br>
      <u>A suggestion to be able to specify language at fragment
level (tab, column), was rejected because there is not enough time to
implement it.</u><br>
      </p>
      <p>Peter said that the languages that a particular
channel can support is known by the channel developer and should be in the
deployment descriptor (see the CAR concept).
Provided at prepublication. when loaded into a particular site, the
site admin should be able to modify it.<br>
      </p>
      <p>At the publication time, show the site admin what the site
default is, and let them copy in to the specific channel's list if they
want. Or they can leave it blank.<br>
      </p>
      <p>At subscribe, if there's zero or one language the channel
can display, then the user should not
be given the ability to choose a language for that channel.<br>
      </p>
      <p>There will be a language preference connected per
user also (there will be a UP_USER_MDATA table)<br>
      </p>
      <p></p>
      <p>What is the priority of the locale, as looked at by channel
when deciding how to render itself: This is the order in which the
various locale settings will be put into the array that is sent to the locale
resolver.<br>
      </p>
      <p>subscribe time setting for a channel [could be
null]<br>
publish time setting for a channel [could be null]<br>
user layout preference<br>
browser specification<br>
portal wide (.properties) setting<br>
Java locale default<br>
      </p>
      <p>for a guest user, they would have an empty locale
preference, and use the same logic.<br>
      </p>
      <p>The resolver will be an interface with a default
implementation, chosen in portal.properties.<br>
      </p>
      <p><u>Alex volunteered to write the resolver part. or
at least start it.</u><br>
      </p>
      <p>Ken: Who will make the database changes, they have
to be done first? Nobody will volunteer to do it. It has to be done before
October. There was a lengthy silence. <br>
      </p>
      <p><u>Peter: "I can be in charge of finding somebody to do
it." (laughter) The problem isn't merely to do it, but to test it
against many varieties of database. Peter will find someone.</u><br>
      </p>
      <p>Steve: We should abstract the database accesses.<br>
      </p>
      <p>Dan: Irrespective of how we do database access, we
need some unit tests, which would make it easier to make changes.<br>
      </p>
      <p>Aaron: Could we use <a href="http://hibernate.bluemars.net/">Hibernate</a>? A generic persistence layer,
database adapters etc. behind it.<br>
      </p>
      <p><u>Ken: Shoji will make the data.xml and tables.xml file
changes and send them to Ken. And the developers will introduce one
table at a time into the 2.2 codebase.</u><br>
      </p>
      <p>Shoji: A channel may want to know who specified a particular
Locale in the input array. <br>
      </p>
      <p>Other people disagreed at first.<br>
      </p>
      <p>Dan: A particular channel may find it wants to override its
locale setting. <br>
      </p>
      <p>Alex: A particular channel may want to override its
resolver.<br>
      </p>
      <p>Ken: The need for such a thing will be rare, so there should
be some way to do this but not in the regular channel interface.<br>
      </p>
      <p>Peter: in RuntimeData there is no reference back to the
portal.<br>
      </p>
      <p>Ken: What if we can choose a custom resolver at publish
time?<br>
      </p>
       <p>A discussion ensued about how to address this concern. Some
developers thought the array of Locales should not be in the
RuntimeData or StaticData, as it's kind of a
violation of the insulation of a channel from the framework.<br>
      </p>
      <p>Ken: The channel should talk to the framework to find out
this information. Why not use IPrivileged?<br>
      </p>
      <p>Peter: No, the purpose of IPrivileged is for <i style="">changing</i>
things about the framework, like the Preferences channel. People have been misusing
it to access container information e.g. HTTPRequest which was not its
original intent.<br>
      </p>
      <p>Ken made a command decision to end the discussion, and
proposed that there will be a utility method somewhere to be called to
do the resolving. Others said that it would not work that way, it can't get at
enough data to make the decision.<br>
      </p>
      <p>[the break for lunch occurred at this time]<br>
      </p>
      <p><u>Ken: The official word for 2.2 is that channels
do not know the source of the locale array entries. As a workaround use
IPrivileged.</u><br>
      </p>
      <p></p>
      <p>Ken: Shoji checked in a class called LocaleAwareXSLT but Ken
is worried that it will give an impression that this is the enduring
official way to do it. The XLIFF group may change it all around in the future.
So should it be checked in? Perhaps we will build this functionality into the
generic XSLT class. <u>Result: we are going to keep this class but change the
naming convention from what Shoji originally had. There would be a default
file with no special extension.</u><br>
      </p>
      <p>Shoji: Documentation -- who will write it?<br>
      </p>
      <p><br>
      </p>
      <p></p>
      <p></p>
      <p></p>
      <h4><b>"business logic" of Aggregated Layout -- Peter</b><br>
      </h4>
      <p>He showed a diagram of how Aggregated Layout (A.L.) code processes the rendering,
and explained it.<br>
      </p>
      <p></p>
      <p>He explained how you describe pushed fragments in XML, then
you run an Ant target to load it into the database. Michael (Ivanov) is
working on ability to load pulled fragments this way also.
There were some comments to improve the syntax of these
files (most notably the groups should be referred to by their unique
id, and not by their names).<br>
      </p>
      <p>restrictions on where a fragment can be in the user's layout,
and whether and how it could be moved.<br>
e.g. priority -- how close to front of tabs or folders it appears.<br>
depth -- how far from root of tree it is.<br>
parent -- restrictions on what the priority of the parent folder can be.<br>
      </p>
      <p>Then you give a structure of folders and channels, and tell
whether they are immutable, unremovable, and/or hidden.<br>
      </p>
      <p>Then Peter gave
functional descriptions of what the most important methods do, such as AddNode<br>
      </p>
      <p>Dan: By 2.2, make a couple of examples.<br>
      </p>
      <p>Ken: In 2.2 Aggregated Layouts will be enabled by default.<br>
      </p>
      <p>Peter: IUserLayoutManager [and its default
implementation] have been enhanced with
several more methods to do A.L. <br>
      </p>
      <p><br>
      </p>
      <p></p>
      <p></p>
      <h4><b>"Integrated Modes" -- the user interface part
of Aggregated Layouts -- Justin</b><br>
      </h4>
      <p>New "Integrated Modes" Structure and Theme<br>
      </p>
      <p>Modes:</p>
      <p style="margin-left: 0.5in;">Normal<br>
      Preferences<br>
      Fragment Construction</p>
<p>This removes dependency on the "Preferences" channel;<br>
should make new structure development easier<br></p>
<p>The User Preferences as a separate channel is gone.</p>
      <p>There are some request parameters that the UI uses to do the integrated-modes editing:<br>
delete node, show move targets, move node, show add targets, etc.<br>
      Justin showed what they look like in a URL line<br>
      </p>
      <p>There's no longer a header or footer channel; the lack of a header
channel gives the site more control over what appears at the top.<br>
      </p>
      <p>The login channel appears as a wide narrow strip just <i>under</i>
the tabs. Again this leaves more clear room for graphics etc. at the
top.<br>
      </p>
      <p>If you resize fonts in the browser or change sizes of icons,
the layout will adjust accordingly without the site having to twiddle
with it.<br>
      </p>
      <p>Justin and Jon Allen put a lot of effort into making it work
the same or at least work, on a wide variety of browsers, even Netscape
4.x; making this structure and theme work on NS 4 took about 80 percent of
their entire time on the project.<br>
      </p>
      <p>Should we use tables any more, or just use nested divs? Some
people were still using NS 4 which does not support DIVs. But they
degrade fairly quickly, don't work well.<br>
      </p>
      <p>The framework UI uses very little Javascript. Only the clock, the
alert/confirms, and the pop for the window detach are Javascript.<br>
      </p>
      <p>The new User Preferences Mode puts icons, text boxes, etc.
all over the place right in the actual layout, to allow the user to
modify things.<br>
      </p>
      <p>Demonstration of how a channel will be added; the user
chooses which tab they want to add a channel to, then choose which
channel, then as a final step where on the tab they want to add it. Up to 2.1 we
have had to choose the exact position first and then which channel to put
there.<br>
      </p>
      <p>John Allen tried to demonstrate the new stuff but
it crashed several times; someone back at the
office had tinkered the demo portal the previous evening.<br>
      </p>
      <p>"If the demo crashes, that means it's good code --
it's <i>fresh</i> code." -- Chuck Severance<br>
      </p>
      <p>There is a demo site at
<a href="http://www.immagic.com/uportal/">http://www.immagic.com/uportal/</a><br>
From the "im+m Portal Accounts" channel, choose
"Aggregated Layouts/Integrated Modes"; that takes you to the 2.2
portal.<br>
      </p>
      <p></p>
      <p>Steve: why does the login channel look different?
it seems to be in the toolbar of the channel.<br>
      </p>
      <p>Justin: We didn't want people to think of the login channel
as a channel. We hacked the stylesheet. We moved the login channel down
into the tab area so that the institution could have a cleaner header.<br>
      </p>
      <p>Chuck: I think it is great that every part of even the
framework is itself a channel. <br>
      </p>
      <p>Peter: [reactions to implementation details mentioned in passing]<br>
a) I think sending content to the theme stylesheet to get it
displayed, is the wrong approach. <br>
b) And the theme stylesheet should not explicitly refer to
the name of the login channel. The reason we put it in the header, is
so they could be in the same place all the time, and would render the same way
as any other channel. if you want to move the login channel somewhere else,
you need a different example of something being in the header. <br>
c) It seems intuitive to me for the orange command line
[during preferences editing] to be above the tabs.<br>
      </p>
      <p><br>
      </p>
      <p></p>
      <p></p>
      <p></p>
      <h4><b>Proposals for new features -- moderated by Ken</b><br>
      </h4>
      <p>a) Yale's Howard Gilbert's proposal for a new way to do
error handling. The uPortal framework code as it is, needs work in this area.<br>
He wanted to be here via speakerphone but there was no
speakerphone.<br>
      </p>
      <p>recommendations:<br>
Use try/finally to close constructs<br>
PortalException should not be thrown all the way to Tomcat.
Should be captured first and have a more meaningful error message. <br>
      </p>
      <p>We called Susan Bramhall to ask some questions.<br>
      </p>
      <p>The ExceptionHelper is careful to log the error exactly
once, and not multiple times as it goes up. The Helper is put into the
PortalException class. She thinks it gets called as a result of
creating the PortalException.<br>
      </p>
      <p>There are many places in the code where a NullPointerException
happens because the database can't be reached; it is far
better to throw some other exception, not return null. <br>
      </p>
      <p>Ken: <u>Howard [who was out of the office when we called]
needs to show the actual new classes he wrote, and give a couple of
examples, before we could make any decision.</u> On
August 13, 2003, a few days after the meeting, Howard posted a long
message to the developer mailing list about his proposal. Subject "Re: Questions
raised about exception handling" <br>
      </p>
      <p>Dan: Howard should also explain the difference
between throwing different classes of exceptions, and using the I.D.'s and what
is the advantage of the latter.<br>
      </p>
      <p>Susan: Maybe the Columbia people could come up to New Haven
and we could have ...<br>
      </p>
      <p>Ken: An "error conference"<br>
      </p>
      <p>John Fereira: Someone at UBC had been talking about automatically
contacting a specified person when an error occurs. But what about framework
channels? It would be the portal administrator.<br>
      </p>
      <p></p>
      <p></p>
      <p></p>
      <p>UBC was not present, but Ken read two proposals on their
behalf. They want to be able to do an HTTPS post and then go to an HTTP
page. So, they want to have a configuration parameter so that after a
secure login (authentication) they could go to an HTTP page.<br>
      </p>
      <p></p>
      <p></p>
      <p>Keith at SCT has the SSL channels thing mentioned at the
previous developers meeting partly done, should he check in what he has
done, or not? He asked some questions and got no answers. HTTPS is a separate
cookie space. <br>
      </p>
      <p>Jan: "You will get popups in nested frames if you don't
handle SSL and non-SSL content consistently."<br>
      </p>
      <p><u>Resolution: Ken will suggest on the email that Keith
comment out the "Focus" ability and check in the rest of it.</u> 
He sent this email on August 8.<br>
      </p>
      <p></p>
      <p></p>
      <p>Ken: UBC wants to add the cababillity for image URLs to be
re-written on the fly so they end up being loaded via a proxy.
This way the image URLs and the portal page will both be served via
https and the annoying browser pop up messages won't appear. 
<u>We decided that we want to implement UBC's changes.</u> </p>
      <p>Jan: Wanted to use log4j directly so we can use categories.
That is each message is in a particular category. <br>
      </p>
      <p><u>Consensus was that we would not do that, but extend
LogService with categories, so that we could drop in another
implementation behind it when we drop support for 1.3 [see below]</u><br>
      </p>
      <p></p>
      <p>Ken: When should we stop supporting 1.3?<br>
      </p>
      <p><u>Conclusion was, </u>containers take a long time to switch
to a newer major dot release. For example,
<a href="http://www.ibm.com/websphere">WebSphere</a> tends to be about
a year behind. So Jan said <u>we should wait until 1.5 becomes widely
available.</u><br>
      </p>
      <p>Steve: The PreparedStatements implementation in RDBMServices
is not complete enough; we need to make the PreparedStatements field
public. [or, make a get for it] [Alex: or make it more complete]<br>
      </p>
      <p>Steve: He wants more published channel metadata.
We put two more columns in UP_CHANNEL to note a primary and secondary contact
person for each channel. <br>
      </p>
      <p></p>
      <p>Kevin: Nick -- swapping out different versions of <a href="http://xml.apache.org/xerces-j/">Xerces</a>. He
posted a message to the developer list on July 29 (Subject "Xerces
dependency removal status") stating some of the issues he has with
particular parsers etc. but he did get it working for Xerces anyhow.
check it in?<br>
      </p>
      <p>Kevin: We would like to see an abstraction of the CharacterCache.<br>
      </p>
      <p>Kevin: Enhancements for a character (text only) content channel that
does an end run around the transformations for efficiency.<br>
      </p>
      <p>Peter: Be sure to tell developers NOT to use it except as a
last resort. It's mostly for legacy applications.<br>
      </p>
      <p>Jan: He wants a factory method for the ChannelManager so he
can plug in a different implementation.<br>
      </p>
      <p>Steve: He wants an implementationspecific method for the
Stats classes.<br>
      </p>
      <p>Jim: Chuck has been trying to resolve the differences
between OKI, JA-Sig, and Michigan.<br>
      </p>
      <p></p>
      <u>Ken: Try out aggregated layouts and internationalization.
Wrap up implementation by end of September.</u>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<br>
<br>
</body></html>