<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./uPortalAuthorizationSystem2_files/filelist.xml">
<title>uPortal Authorization System 2</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Bernie Durfee</o:Author>
  <o:LastAuthor>Bernie Durfee</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>263</o:TotalTime>
  <o:LastPrinted>2001-07-11T18:08:00Z</o:LastPrinted>
  <o:Created>2001-09-26T18:26:00Z</o:Created>
  <o:LastSaved>2001-09-26T18:26:00Z</o:LastSaved>
  <o:Pages>7</o:Pages>
  <o:Words>1609</o:Words>
  <o:Characters>9174</o:Characters>
  <o:Company>Interactive Business Solutions</o:Company>
  <o:Lines>76</o:Lines>
  <o:Paragraphs>18</o:Paragraphs>
  <o:CharactersWithSpaces>11266</o:CharactersWithSpaces>
  <o:Version>9.3821</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:536871559 0 0 0 415 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.3in;
	margin-bottom:.0001pt;
	text-indent:-.3in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l0 level1 lfo1;
	tab-stops:list .3in;
	background:#CCCCCC;
	font-size:14.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:Verdana;
	mso-font-kerning:0pt;
	mso-bidi-font-weight:normal;}
h2
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:Arial;
	font-style:italic;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:Arial;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:.5in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyText2, li.MsoBodyText2, div.MsoBodyText2
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyText3, li.MsoBodyText3, div.MsoBodyText3
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";}
code
	{mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:918060666;
	mso-list-template-ids:25856404;}
@list l0:level1
	{mso-level-style-link:"Heading 1";
	mso-level-text:%1;
	mso-level-tab-stop:.3in;
	mso-level-number-position:left;
	margin-left:.3in;
	text-indent:-.3in;}
@list l0:level2
	{mso-level-style-link:"Heading 2";
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:.4in;
	mso-level-number-position:left;
	margin-left:.4in;
	text-indent:-.4in;}
@list l0:level3
	{mso-level-style-link:"Heading 3";
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l0:level4
	{mso-level-style-link:"";
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:.6in;
	mso-level-number-position:left;
	margin-left:.6in;
	text-indent:-.6in;}
@list l0:level5
	{mso-level-style-link:"";
	mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:.7in;
	mso-level-number-position:left;
	margin-left:.7in;
	text-indent:-.7in;}
@list l0:level6
	{mso-level-style-link:"";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:.8in;
	mso-level-number-position:left;
	margin-left:.8in;
	text-indent:-.8in;}
@list l0:level7
	{mso-level-style-link:"";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:.9in;
	mso-level-number-position:left;
	margin-left:.9in;
	text-indent:-.9in;}
@list l0:level8
	{mso-level-style-link:"";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l0:level9
	{mso-level-style-link:"";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:1.1in;
	mso-level-number-position:left;
	margin-left:1.1in;
	text-indent:-1.1in;}
@list l1
	{mso-list-id:1606380620;
	mso-list-type:hybrid;
	mso-list-template-ids:-218972306 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:22.0pt;mso-bidi-font-size:12.0pt'>uPortal Authorization System
2.0 Design<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:22.0pt;mso-bidi-font-size:12.0pt'>Proposal<o:p></o:p></span></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal align=center style='text-align:center'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>Author: Bernie Durfee</p>

<p class=MsoNormal>Design: Alex Vigdor, Bernie Durfee, Dan Ellentuck, Don
Fracapane</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h1><![if !supportLists]>1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Introduction</h1>

<p class=MsoBodyText>This document outlines the design of a new permission
based authorization system. The goal is for this system to be combined with a
group management system and to replace the existing uPortal authorization
service. The initial version of uPortal authorization was based on the storage
and manipulation of simple role information. Below is the original API:</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public interface IAuthorization<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>{<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public boolean isUserInRole(IPerson person, IRole role);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public Vector<span style="mso-spacerun: yes">  </span>getAllRoles();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public int<span style="mso-spacerun: yes">    
</span>setChannelRoles(int channelID, Vector roles);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public boolean canUserPublish(IPerson person);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public Vector<span style="mso-spacerun: yes"> 
</span>getAuthorizedChannels(IPerson person);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public boolean canUserSubscribe(IPerson person, int channelID);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public boolean canUserRender(IPerson person, int channelID);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public Vector<span style="mso-spacerun: yes"> 
</span>getUserRoles(IPerson person);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void<span style="mso-spacerun: yes">   
</span>addUserRoles(IPerson person, Vector roles);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void<span style="mso-spacerun: yes">   
</span>removeUserRoles(IPerson person, Vector roles);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>}<o:p></o:p></span></code></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoBodyText>The problem with this API is that it mixes role management
functionality with authorization functionality. “<span style='font-size:10.0pt;
font-family:Arial'>Can principal X perform activity Y on target Z” </span>is
commonly used to define the authorization.<span style='font-size:10.0pt;
font-family:Arial'> In the old API, this question is only answered by the
following methods:<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public boolean canUserPublish(IPerson
person);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public Vector<span style="mso-spacerun:
yes">  </span>getAuthorizedChannels(IPerson person);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public boolean canUserSubscribe(IPerson
person, int channelID);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public boolean canUserRender(IPerson
person, int channelID);<o:p></o:p></span></code></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal>While the remaining methods deal with role management:</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public boolean isUserInRole(IPerson
person, IRole role);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public Vector<span style="mso-spacerun:
yes">  </span>getAllRoles();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public int<span style="mso-spacerun:
yes">     </span>setChannelRoles(int channelID, Vector roles);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public Vector<span style="mso-spacerun:
yes">  </span>getUserRoles(IPerson person);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public void<span style="mso-spacerun:
yes">    </span>addUserRoles(IPerson person, Vector roles);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public void<span style="mso-spacerun:
yes">    </span>removeUserRoles(IPerson person, Vector roles);<o:p></o:p></span></code></p>

<p class=MsoNormal><span style="mso-spacerun: yes"> </span></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h1><![if !supportLists]>2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>The New System</h1>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoBodyText>After some discussions at Columbia University it has
become evident that splitting up these two sets of methods would benefit the
overall design of the authorization system. In doing so, a very simple and yet
powerful system emerges. The former set of methods can be represented by a
generic authorization system and the latter set of methods need to be
incorporated into a group/role management system. This document proposes a
solution for a generic authorization system.</p>

<p class=MsoBodyText><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h2>PermissionManager</h2>

<p class=MsoBodyText>The new authorization system would be based on an API that
would be available and useful to both the framework and channels. Its API is
based on answering the “<span style='font-size:10.0pt;font-family:Arial'>Can
principal X perform activity Y on target Z” question. </span>The API for the
new authorization system consists of the following methods:</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public abstract class PermissionManager<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>{<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// Store the name of the owner of this instance<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>protected String m_owner = null;<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// Constructor that makes sure that an owner<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// is bound to each instance of a PermissionManager<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public PermissionManager(String owner)<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>{<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes">   
</span>m_owner = owner;<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>}<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// This method adds a Permission object to the system<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void setPermission(Permission newPermission);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// This method adds a set of Permissions objects to the system<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void setPermissions(Permission [] new Permissions);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// This method retrieves a set of Permission objects based<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// on the given parameters. Null parameters are ignored.<o:p></o:p></span></code></p>

<p class=MsoNormal style='tab-stops:2.5in'><code><span style='font-size:10.0pt;
font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><span
style="mso-spacerun: yes">  </span>public Permission [] getPermissions( String
principal,<o:p></o:p></span></code></p>

<p class=MsoNormal style='margin-left:2.5in'><code><span style='font-size:10.0pt;
font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><span
style="mso-spacerun: yes">         </span>String activity,<o:p></o:p></span></code></p>

<p class=MsoNormal style='margin-left:2.5in'><code><span style='font-size:10.0pt;
font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'><span
style="mso-spacerun: yes">        </span><span style="mso-spacerun:
yes"> </span>String target )<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>}<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<h2>Permission<span style='font-size:10.0pt'><o:p></o:p></span></h2>

<p class=MsoBodyText>This object represents a single permission in the system.
This object contains the answer to a single “Can principal X perform activity Y
on target Z” question. These permission objects can be bound to either the uPortal
framework, a single channel or even shared among all uPortal entities.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>public abstract class Permission<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>{<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// Store the name of the owner of this instance<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>protected String m_owner = null;<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// Constructor that makes sure each Permission has an owner<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public Permission(String owner);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// Returns the owner of this Permission<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public String getOwner();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>// Getter and setter methods for Permission information<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public String getPrincipal();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void<span style="mso-spacerun: yes">   </span>setPrincipal(String
principal);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public String getActivity();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void<span style="mso-spacerun: yes">   </span>setActivity(String
activity);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public String getTarget();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void<span style="mso-spacerun: yes">   </span>setTarget(String
target);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public String getType();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void<span style="mso-spacerun: yes">   </span>setType(String
type);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public Date<span style="mso-spacerun: yes">   </span>getEffective();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void<span style="mso-spacerun: yes">   </span>setEffective(Date
effective);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public Date<span style="mso-spacerun: yes">   </span>getExpires();<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'><span style="mso-spacerun: yes"> 
</span>public void<span style="mso-spacerun: yes">   </span>setExpires(Date
expires);<o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>}</span></code></p>

<h3>Owner</h3>

<p class=MsoBodyText>This is a token that describes who ‘owns’ the Permission.
This token generally denotes the entity that created and uses the Permission.
As a result this is most likely the only entity to which the Permission will
have meaning.</p>

<p class=MsoBodyText>An example of an owner would be a channel ID. The
framework will create a PermissionManager object for each channel published in
the system. This channel specific PermissionManager would only allow channels
to create/read/modify Permission objects that they own. This will prevent
channels from manipulating Permission objects that don’t belong to them.</p>

<h3>Principal – Activity - Target</h3>

<p class=MsoBodyText>These are tokens that make up the X, Y and Z in “<span
style='font-size:10.0pt;font-family:Arial'>Can principal X perform activity Y
on target Z”</span>. These tokens will most likely only have meaning in the
context of the object that uses them.</p>

<h3>Effective – Expires</h3>

<p class=MsoBodyText>These dates represent suggested effective and expires
dates relate to the Permission. These tokens will most likely only have meaning
in the context of the object that uses them.</p>

<p class=MsoBodyText style='text-indent:0in'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h3>Type</h3>

<p class=MsoBodyText style='text-indent:0in'>This field is intended to specify
the Permission type, such as GRANT or DENY.</p>

<p class=MsoBodyText style='text-indent:0in'>.</p>

<p class=MsoBodyText><span style='font-size:10.0pt;font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<h1><![if !supportLists]>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Reference Implementation</h1>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoBodyText>As with most parts or uPortal the authorization system is
based on the Factory design pattern. There will be an interface that can be
implemented by any uPortal site to meet any specific needs. However, a solid
reference implementation of this system is needed because this design is meant
to meet the needs of most uPortal implementers. The reference implementation
being proposed consists of the following parts:</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<h2>Database</h2>

<p class=MsoBodyText>The Permission objects will be stored persistently in a
relational database. The schema for the database simply reflects the structure
of the Permission objects themselves:</p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'>OWNER<span
style='mso-tab-count:1'>            </span>VARCHAR(255)<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'>PRINCIPAL<span
style='mso-tab-count:1'>            </span>VARCHAR(255)<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'>ACTIVITY<span
style='mso-tab-count:1'>            </span>VARCHAR(255)<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'>TARGET<span
style='mso-tab-count:1'>            </span>VARCHAR(255)<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'>EFFECTIVE<span
style='mso-tab-count:1'>            </span>TIMESTAMP<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'>EXPIRES<span
style='mso-tab-count:1'>            </span>TIMESTAMP<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<h2>Caching</h2>

<p class=MsoBodyText>A well performing authorization system is crucial due to
the fact that it will be queried very often by many pieces of uPortal during
use. An efficient and robust caching mechanism must be in place in order for
any implementation to be viable. This caching can be done through the use of
entity beans inside of an EJB server, but for the uPortal’s needs a custom
solution is required.</p>

<p class=MsoBodyText>This solution would most likely cache the Permission
object as they are retrieved from the database. This cache would keep the
objects alive for a specified period of time. After this time the cache would
expunge the Permission so that it is retrieved from the database again. This
would compensate for the fact that Permissions may change in the database, but
should not change often enough to forgo the use of a cache.</p>

<p class=MsoBodyText2><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoBodyText2><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoBodyText2><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoBodyText2><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoBodyText2><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h1><![if !supportLists]>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Example Usage</h1>

<h2>Can the current user publish channels?</h2>

<p class=MsoNormal>From inside the CHeader channel you would…</p>

<p class=MsoBodyText2><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>// Get the IPerson object for the current user<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>String personID = staticData.getPerson().getID() + “”;<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>// Get the Permission manager object that has been<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>// created for the CHeader channel and stored in the<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>// StaticData object by the framework.<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>PermissionManager pm = staticData.getPermissionManager();<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>// Check to see if the current user has the Permission to publish.<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>// Ask the question, “Can principal (personID) publish?”<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>Permission [] permissions =<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><span style="mso-spacerun: yes">      </span>pm.getPermissions(personID,
“publish”, null);<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>…at this point the reference implementation would check for a row that
contained the person’s ID in the PRINCIPAL column and the string ‘Publish’ in
the ACTIVITY column. Permission objects would be built based on the results.<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>// Check to see if anything was returned<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>if(permissions != null &amp;&amp; permissions.length &gt; 0)<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>{<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><span style="mso-spacerun: yes">  </span>// Allow the user to publish<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>}<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>This is a very simple example. To make
better use of the system the framework could check the effective and expires
dates. Another option would be for the framework to render a publish link based
on who the current user can publish too. Each returned Permission object could
be checked for a target, these rows could exist…<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>OWNER<span style="mso-spacerun: yes">    </span>PRINCIPAL<span
style="mso-spacerun: yes">       </span>ACTIVITY<span style="mso-spacerun:
yes">     </span>TARGET<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>chan01<span style="mso-spacerun: yes">   </span>english_prof<span
style="mso-spacerun: yes">    </span>Publish<span style="mso-spacerun:
yes">      </span>english_student<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>chan01<span style="mso-spacerun: yes">   </span>physics_prof<span
style="mso-spacerun: yes">    </span>Publish<span style="mso-spacerun:
yes">      </span>physics_student<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>chan01<span style="mso-spacerun: yes">   </span>administrator<span
style="mso-spacerun: yes">   </span>Publish<span style="mso-spacerun:
yes">      </span>NULL<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoNormal><code><span style='font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Times New Roman"'>…this would say that…<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>User’s in the english_prof group can publish to user’s in the
english_student group.<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>User’s in the physics_prof group can publish to the user’s in the
physics_student group.<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'>User’s in the administration group can publish to anyone.<o:p></o:p></span></code></p>

<p class=MsoBodyText2><code><span style='font-family:"Courier New";mso-bidi-font-family:
Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></code></p>

<p class=MsoBodyText3 style='text-align:justify'><code><span style='font-family:
"Courier New";mso-bidi-font-family:"Times New Roman"'>…each of the above
statements would be up to the interpretation of the CHeader channel. Group
information could be retrieve from a group management system. All rows in the
UP_PERMISSIONS table would be created by an administration tool, XML descriptor
file, etc. <o:p></o:p></span></code></p>

<p class=MsoBodyText2><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h1><![if !supportLists]>5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>Additional Issues</h1>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<h2>Permission creation and security</h2>

<p class=MsoBodyText>As addressed above, creation of Permission objects needs
to be carefully controlled. With the proliferation of channels written by third
parties, uPortal implementers should be wary of inter-portal security. For
instance, it’s possible that third part can write a channel that acts
maliciously inside of the uPortal server. Allowing channels to create
Permission objects with any owner field would allow for channels to add or
modify the Permission objects owned by other channels.</p>

<p class=MsoBodyText>The owner field of a Permission object should be used to
effectively prevent channels from manipulating each others Permission objects.
So a PermissionManager should be carefully implemented to only dole out
Permission objects that belong to the requestor. Permission objects themselves
should have an immutable owner field to make sure that they are stored
properly.</p>

<p class=MsoBodyText><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<h2>Why not the java.security or JAAS package?</h2>

<p class=MsoBodyText>It is the goal of uPortal to utilize as many standard Sun
Java packages as possible. There will be debate as to why the standard Java
security package is not utilized for Authorization. After much review it is the
author’s opinion that this package was designed and written for code level
authorization.</p>

<p class=MsoBodyText>The components of uPortal are concerned with authorization
on a higher level. Channels will use the authorization system to determine how
to render their content. Try to fit code-level authorizations into this task
does not seem reasonable.</p>

<p class=MsoBodyText>The system described in this document is sufficiently
simple and abstract as to provide high usefulness with little effort. It is
also modeled after the standard Java packages to make migration to a future
Java standard that fits the uPortal model better.</p>

</div>

</body>

</html>
